let appController=(()=>{let a,b,c=0;return{setDay:(a=0)=>(-1==a?0<c&&c--:1==a&&4>=c&&c++,c),saveWeatherInfo:c=>{a=c[0],b=c[1]},giveWeatherInfo:()=>[a,b],testing:()=>{console.log(a[0])}}})(),displayController=(()=>{let a=a=>(newNum=a.toFixed(2),newNum),b=(b,c="")=>{document.querySelector(`.${c}max-temp p`).innerHTML=`${a(b.max_temp)}`,document.querySelector(`.${c}curr-temp p`).innerHTML=`${a(b.the_temp)}`,document.querySelector(`.${c}min-temp p`).innerHTML=`${a(b.min_temp)}`,document.querySelector(`.${c}humidity p`).innerHTML=`${b.humidity}`,document.querySelector(`.${c}weather-state p`).innerHTML=`${b.weather_state_name}`,document.querySelector(`.${c}wind-direction p`).innerHTML=`${b.wind_direction_compass}`},c=(a="")=>{document.querySelector(`.${a}max-temp p`).innerHTML=``,document.querySelector(`.${a}curr-temp p`).innerHTML=``,document.querySelector(`.${a}min-temp p`).innerHTML=``,document.querySelector(`.${a}humidity p`).innerHTML=``,document.querySelector(`.${a}weather-state p`).innerHTML=``,document.querySelector(`.${a}wind-direction p`).innerHTML=``};return{getId:async()=>{let a=document.querySelector(".search-box").value,b=await fetch(`https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/search/?query=${a}`),c=await b.json(),d=c[0].woeid;return d},getData:async a=>{let b=await fetch(`https://cors-anywhere.herokuapp.com/https://www.metaweather.com/api/location/${a}`),c=b.json();return c},clearData:()=>{c()},showData:(a,c=0)=>{let d=a[c];b(d)},showMoreData:(c,d,e=0)=>{let f=c[e],g=d,h="show-more_";document.querySelector(`.${h}title p`).innerHTML=`${g.title}`,document.querySelector(`.${h}location p`).innerHTML=`${g.location_type}`,document.querySelector(`.${h}time-zone p`).innerHTML=`${g.timezone_name}`,document.querySelector(`.${h}air-pressue p`).innerHTML=`${a(f.air_pressure)}`,document.querySelector(`.${h}visibility p`).innerHTML=`${a(f.visibility)}`,document.querySelector(`.${h}predictability p`).innerHTML=`${f.predictability}`,b(f,h)},clearMoreData:()=>{c("show-more_")},showBtn:(a=0)=>{0==a?(document.querySelector(".navigate-right").style.visibility="visible",document.querySelector(".navigate-left").style.visibility="hidden"):0<a&&4>a?(document.querySelector(".navigate-left").style.visibility="visible",document.querySelector(".navigate-right").style.visibility="visible"):4==a&&(document.querySelector(".navigate-right").style.visibility="hidden")},hideBtn:()=>{document.querySelector(".navigate-right").style.visibility="hidden",document.querySelector(".navigate-left").style.visibility="hidden"},dayAndTime:()=>{let a=new Date,b=new Date,c=new Date,d=a.getDay(),e=b.getHours(),f=c.getMinutes();12<e?(e-=12,document.querySelector(".am_pm").innerHTML="pm"):document.querySelector(".am_pm").innerHTML="am";document.querySelector(".time").innerHTML=`${e}:${f}`,document.querySelector(".day").innerHTML=`${["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"][d]}`,document.getElementById("dayAndDate-name_js").classList.add("dayAndDate_slider")},showCol:()=>{const a=document.querySelectorAll(".output div");a.forEach(a=>{let b=a.id;"js_box_1"==b||"js_box_4"==b?document.getElementById(`${b}`).classList.add("col1"):"js_box_2"==b||"js_box_5"==b?document.getElementById(`${b}`).classList.add("col2"):("js_box_3"==b||"js_box_6"==b)&&document.getElementById(`${b}`).classList.add("col3")})},hideCol:()=>{const a=document.querySelectorAll(".output div");a.forEach(a=>{let b=a.id;"js_box_1"==b||"js_box_4"==b?document.getElementById(`${b}`).classList.remove("col1"):"js_box_2"==b||"js_box_5"==b?document.getElementById(`${b}`).classList.remove("col2"):("js_box_3"==b||"js_box_6"==b)&&document.getElementById(`${b}`).classList.remove("col3")})},cityNameShow:()=>{let a=document.querySelector(".search-box").value;document.querySelector(".city-name").innerHTML=`${a}`,document.getElementById("city-name_js").classList.add("city-name_slider")},cityNameHide:()=>{document.querySelector(".city-name").innerHTML=``,document.getElementById("city-name_js").classList.remove("city-name_slider"),document.getElementById("dayAndDate-name_js").classList.remove("dayAndDate_slider")},clearField:()=>{document.querySelector(".search-box").value="",document.querySelector(".search-box").blur()}}})(),globalController=((a,b)=>{let c=()=>{document.querySelector(".search-icon").addEventListener("click",f),document.addEventListener("keypress",function(a){(13===a||13===a.which)&&f()});const a=document.querySelectorAll(".navigate-page");a.forEach(a=>{a.addEventListener("click",g)}),document.querySelector(".more-details").addEventListener("click",h),document.querySelector(".close-icon").addEventListener("click",i)},d=async()=>{let a=await b.getId(),c=await b.getData(a),d=await c.consolidated_weather;return[d,c]},f=async()=>{b.hideCol(),b.cityNameHide(),b.clearData(),b.clearMoreData(),b.hideBtn(),document.getElementById("more-details_js").classList.remove("more-details_show");let c=await d();a.saveWeatherInfo(c),b.showData(c[0]),b.showMoreData(c[0],c[1]),b.showCol(),b.cityNameShow(),b.dayAndTime(),b.showBtn(),b.clearField(),document.getElementById("more-details_js").classList.add("more-details_show")},g=c=>{let d=c.target.classList[0],e=0,f=a.giveWeatherInfo();if("prev-page"==d){e=-1;let c=a.setDay(e);b.showBtn(c),b.clearData(),b.clearMoreData(),b.showMoreData(f[0],f[1],c),b.showData(f[0],c)}else if("next-page"==d){e=1;let c=a.setDay(e);b.showBtn(c),b.clearData(),b.clearMoreData(),b.showMoreData(f[0],f[1],c),b.showData(f[0],c)}},h=()=>{document.querySelector(".output").style.opacity="0",document.getElementById("show-more_js").classList.add("show-more_slider")},i=()=>{document.querySelector(".output").style.opacity="1",document.getElementById("show-more_js").classList.remove("show-more_slider")};return{init:()=>c()}})(appController,displayController);globalController.init();